<header
    class="w-full bg-gray-800 px-4 py-3 border-b border-gray-700 flex items-center justify-between gap-3 flex-wrap md:grid md:grid-cols-3 md:items-center">

    <!-- Logo -->
    <div class="flex items-center gap-2 md:justify-start w-full md:w-auto">
        <span class="text-white font-semibold text-sm md:text-base">Web Interface</span>
    </div>

    <!-- Navigation + Search (Desktop) -->
    <div class="hidden md:flex items-center justify-center gap-10">
        <nav class="flex gap-4 text-sm text-gray-400">
            <a href="#" class="text-white font-semibold">Popular</a>
            <a href="#" class="hover:text-white transition-colors">For You</a>
            <a href="#" class="hover:text-white transition-colors">Messages</a>
        </nav>

        <div class="relative">
            <input type="text" placeholder="Search messages"
                class="bg-gray-700 pl-10 pr-4 py-2 text-sm text-white placeholder-gray-400 rounded focus:outline-none w-64" />
            <svg xmlns="http://www.w3.org/2000/svg"
                class="absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400" fill="none" viewBox="0 0 24 24"
                stroke="currentColor" stroke-width="1.5">
                <path stroke-linecap="round" stroke-linejoin="round"
                    d="M21 21l-4.35-4.35m0 0A7.5 7.5 0 103.75 9a7.5 7.5 0 0012.9 7.65z" />
            </svg>
        </div>
    </div>

    <!-- Mobile search + notifications + user -->
    <div class="flex items-center gap-3 ml-auto md:justify-end w-full md:w-auto">

        <!-- Mobile search icon -->
        <button (click)="toggleSearch()" class="text-gray-400 hover:text-white md:hidden" aria-label="Open search">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24"
                stroke="currentColor" stroke-width="1.5">
                <path stroke-linecap="round" stroke-linejoin="round"
                    d="M21 21l-4.35-4.35m0 0A7.5 7.5 0 103.75 9a7.5 7.5 0 0012.9 7.65z" />
            </svg>
        </button>

        <!-- Mobile search input -->
        <div *ngIf="isSearchOpen" class="relative md:hidden">
            <input type="text" placeholder="Search..."
                class="bg-gray-700 pl-10 pr-4 py-2 text-sm text-white placeholder-gray-400 rounded focus:outline-none w-56" />
            <svg xmlns="http://www.w3.org/2000/svg"
                class="absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400" fill="none" viewBox="0 0 24 24"
                stroke="currentColor" stroke-width="1.5">
                <path stroke-linecap="round" stroke-linejoin="round"
                    d="M21 21l-4.35-4.35m0 0A7.5 7.5 0 103.75 9a7.5 7.5 0 0012.9 7.65z" />
            </svg>
        </div>

        <!-- Notifications -->
        <button class="text-gray-400 hover:text-white" aria-label="Notifications">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24"
                stroke="currentColor" stroke-width="1.5">
                <path stroke-linecap="round" stroke-linejoin="round"
                    d="M14.25 17h5.25l-1.72-1.72A2.25 2.25 0 0117.25 14V11.5a5.25 5.25 0 00-4.5-5.19V6a1.5 1.5 0 10-3 0v.31a5.25 5.25 0 00-4.5 5.19V14c0 .597-.237 1.17-.66 1.59L3.75 17h5.25m5.25 0v.75a2.25 2.25 0 01-4.5 0V17h4.5z" />
            </svg>
        </button>

        <!-- Avatar -->
        <img *ngIf="user" [src]="user.picture.thumbnail" alt="User avatar" (click)="onPhotoClick()"
            class="w-8 h-8 rounded-full cursor-pointer" />

        <!-- Username (desktop only) -->
        <span *ngIf="user" class="hidden md:inline text-sm text-white">
            {{ user.name.first }} {{ user.name.last }}
        </span>
    </div>
</header>